<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>search</title>
    <script  src="http://code.jquery.com/jquery-latest.min.js"></script>
</head>
<body>
<input type="text" id="findString" name="findString" oninput="RealTimeSearch()">

<table>
    <tbody id="searchList"></tbody>
</table>

    <script>
        function RealTimeSearch() {

            var findString = $('#findString').val();

            $.ajax({
                type: "POST",
                url: "/find/"+findString,
                dataType : 'json',
                success: function(data) {
                    // Clear the existing content in the tbody
                    $('#searchList').empty();

                    // Iterate through the received data and add rows to the tbody
                    $.each(data, function (index, movie) {
                        var title = movie.title;
                        var posterPath = movie.poster_path;

                        // Create a new row and append it to the tbody
                        var newRow = '<tr><td><img src="' + posterPath + '" alt="Movie Poster" style="width: 170px;"></td><td>' + title + '</td></tr>';
                        $('#searchList').append(newRow);
                    });
                },
                error: function(xhr, status, error) {
                    console.log("Status: " + status);
                    console.log("Error: " + error);
                }
            });
        }
        

    </script>
</body>
</html>